---
- hosts: all
  remote_user: jian
  gather_facts: yes
  become: yes

  vars_files:
    - vars/main.yml

  remote_user: "{{ remote_user }}"
  gather_facts: yes

  roles:
    - role: geerlingguy.jenkins
      when: is_master is defined and is_master

    - role: FGtatsuro.android
      when: is_slave is defined and is_slave

    - role: debops.ruby
      become: true
      when: is_slave is defined and is_slave
